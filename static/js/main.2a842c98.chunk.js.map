{"version":3,"sources":["components/Form/Form.module.css","components/Section/Section.module.css","components/Filter/Filter.module.css","components/Section/Section.jsx","redux/phonebook/phonebook-selectors.js","redux/phonebook/phonebook-actions.js","redux/phonebook/phonebook-operations.js","components/Form/Form.jsx","components/Filter/Filter.jsx","components/ContactList/ContactList.jsx","App.js","redux/phonebook/phonebook-reducer.js","redux/store.js","index.js","components/ContactList/ContactList.module.css"],"names":["module","exports","Section","title","children","className","s","section","getContacts","state","contacts","items","getFilter","filter","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","name","includes","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","axios","defaults","baseURL","MyForm","useSelector","dispatch","useDispatch","onSubmit","number","contact","post","then","data","catch","error","phonebookOperations","useState","setName","setNumber","e","preventDefault","namesInPhonebook","reduce","acc","numbersInPhonebook","alert","contactMatching","form","type","value","placeholder","pattern","required","onChange","currentTarget","input","country","buttonWrapper","button","Filter","values","phonebookActions","target","ContactList","onDeleteContact","id","delete","list","map","item","text","span","onClick","times","App","this","props","length","Component","connect","createReducer","payload","loading","combineReducers","store","configureStore","reducer","phonebookReduser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a842c98.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2Z0cn\",\"label\":\"Form_label__OBlDJ\",\"input\":\"Form_input__3cnmQ\",\"button\":\"Form_button__25mgu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__1FgvG\",\"title\":\"Section_title__23BaG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__52zEN\"};","import PropTypes from 'prop-types';\r\nimport s from './Section.module.css';\r\n\r\nfunction Section({ title, children }) {\r\n  return (\r\n    <div className={s.section}>\r\n      <h2 className={s.title}>{title}</h2>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nSection.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Section;\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nexport const getContacts = state => state.contacts.items;\r\nexport const getFilter = state => state.contacts.filter;\r\nexport const getLoader = state => state.contacts.loading;\r\n\r\nexport const getVisibleContacts = createSelector(\r\n  [getContacts, getFilter],\r\n  (contacts, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n\r\n    return contacts.filter(({ name }) =>\r\n      name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  },\r\n);","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  'contacts/fetchContactsRequest',\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  'contacts/fetchContactsSuccess',\r\n);\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');","import axios from 'axios';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from './phonebook-actions';\r\n\r\naxios.defaults.baseURL = 'http://localhost:4040';\r\n\r\nexport const fetchContacts = () => dispatch => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  axios\r\n    .get('/contacts')\r\n    .then(({ data }) => dispatch(fetchContactsSuccess(data)))\r\n    .catch(error => dispatch(fetchContactsError(error)));\r\n};\r\n\r\nexport const addContact = (name, number) => dispatch => {\r\n  const contact = {\r\n    name,\r\n    number,\r\n  };\r\n\r\n  dispatch(addContactRequest());\r\n\r\n  axios\r\n    .post('/contacts', contact)\r\n    .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    .catch(error => dispatch(addContactError(error)));\r\n};\r\n\r\nexport const deleteContact = id => dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${id}`)\r\n    .then(() => dispatch(deleteContactSuccess(id)))\r\n    .catch(error => dispatch(deleteContactError(error)));\r\n};\r\n","import { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PhoneInput from 'react-phone-input-2';\r\nimport 'react-phone-input-2/lib/style.css';\r\nimport { getContacts } from '../../redux/phonebook/phonebook-selectors';\r\nimport * as phonebookOperations from '../../redux/phonebook/phonebook-operations';\r\nimport s from './Form.module.css';\r\n\r\nexport default function MyForm() {\r\n \r\n  const contacts = useSelector(getContacts);\r\n  const dispatch = useDispatch();\r\n  const onSubmit = (name, number) =>\r\n    dispatch(phonebookOperations.addContact(name, number));\r\n\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n\r\n  const contactMatching = () => {\r\n    const namesInPhonebook = contacts.reduce(\r\n      (acc, contact) => [...acc, contact.name],\r\n      [],\r\n    );\r\n\r\n    const numbersInPhonebook = contacts.reduce(\r\n      (acc, contact) => [...acc, contact.number],\r\n      [],\r\n    );\r\n\r\n    if (\r\n      namesInPhonebook.includes(name) ||\r\n      numbersInPhonebook.includes(number)\r\n    ) {\r\n      alert(`${name}${number} is already in contacts`);\r\n      return true;\r\n    }\r\n\r\n    if (name === '' || number === '') {\r\n      alert('Please enter all data');\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    setName('');\r\n    setNumber('');\r\n\r\n    if (contactMatching()) {\r\n      return;\r\n    }\r\n\r\n    onSubmit(name, number);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={s.form}>\r\n      <label>\r\n        Name\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          placeholder=\"Ivanov Ivan\"\r\n           pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n            required\r\n          onChange={e => setName(e.currentTarget.value)}\r\n          className={s.input}\r\n        />\r\n      </label>\r\n      <label>\r\n        Number\r\n        <PhoneInput\r\n          country={'ua'}\r\n          value={number}\r\n          pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\r\n           title=\"Номер телефона должен состоять из 11-12 цифр и может содержать цифры, пробелы, тире, пузатые скобки и может начинаться с +\"\r\n          required\r\n          placeholder=\"123-12-45\"\r\n          onChange={setNumber}\r\n        />\r\n      </label>\r\n      <div className={s.buttonWrapper}>\r\n        <button type=\"submit\" className={s.button}>\r\n          Add contact\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}","import { useSelector, useDispatch } from 'react-redux';\r\nimport { getFilter } from '../../redux/phonebook/phonebook-selectors';\r\nimport  * as phonebookActions from '../../redux/phonebook/phonebook-actions';\r\nimport s from './Filter.module.css';\r\n\r\nexport default function Filter() {\r\n  \r\n  const values = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n  const onChange = e => dispatch(phonebookActions.changeFilter(e.target.value));\r\n\r\n  return (\r\n    <label className={s.filter}>\r\n      Find contacts by name\r\n      <input\r\n        type=\"text\"\r\n        value={values}\r\n        onChange={onChange}\r\n        placeholder=\"Enter name to search\"\r\n        className={s.input}\r\n      />\r\n    </label>\r\n  );\r\n}","import { useSelector, useDispatch } from 'react-redux';\r\nimport * as phonebookOperations from '../../redux/phonebook/phonebook-operations';\r\nimport { getVisibleContacts } from '../../redux/phonebook/phonebook-selectors';\r\nimport s from './ContactList.module.css';\r\n\r\nexport default function ContactList() {\r\n  const contacts = useSelector(getVisibleContacts);\r\n  const dispatch = useDispatch();\r\n  const onDeleteContact = id => dispatch(phonebookOperations.deleteContact(id));\r\n\r\n  return (\r\n    <ul className={s.list}>\r\n      {contacts.map(({ id, name, number }) => (\r\n        <li key={id} className={s.item}>\r\n          <p className={s.text}>\r\n            {name}: {number}\r\n          </p>\r\n          <span className={s.span}></span>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onDeleteContact(id)}\r\n            className={s.button}\r\n          >\r\n            <span className={s.times}>&times;</span>\r\n          </button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}","import React, { Component } from 'react';\nimport Section from './components/Section/Section';\nimport Form from './components/Form/Form';\nimport Filter from './components/Filter/Filter';\nimport ContactList from './components/ContactList/ContactList';\nimport { connect } from 'react-redux';\n\nclass App extends Component {\n  \n  \n  render() {\n   \n       return (\n      <>\n        <Section title=\"Phonebook\">\n          <Form  />\n        </Section>\n        <Section title=\"Contacts\">\n        {this.props.items.length>2&&<Filter  />}\n          <ContactList />\n        </Section>\n      </>\n    );\n  }\n}\nconst mapStateToProps= state => {\n  return (state.contacts)\n}\n\nexport default connect(mapStateToProps)(App);","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from './phonebook-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (state, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [payload, ...state],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (state, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});","\r\nimport { configureStore } from '@reduxjs/toolkit'\r\nimport phonebookReduser from './phonebook/phonebook-reducer'\r\n\r\n\r\n\r\nconst store = configureStore({reducer: { contacts: phonebookReduser }})\r\n\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__vK-_5\",\"item\":\"ContactList_item__Voe8m\",\"text\":\"ContactList_text__1a7qa\",\"span\":\"ContactList_span__hWnfA\",\"button\":\"ContactList_button__1NSRN\"};"],"sourceRoot":""}